hello everyone today I'm going to show
you how you can build your own VPN on
azure and for that I have written a
script here as you can see on the screen
the first thing that I'm going to do is
I'm going to create this Resource Group
and then this VM and then I'm going to
open few ports as you can see here
and before going forward let's focus on
this script here so if I go here to this
area 5 is standard B1 LF
and I'm going to open up my browser and
go into price information
here as you can see I have selected
Linux distributions and Bs Series in
ifts region as you can see the price is
3.7 dollars per month for this last VM
and it has only 5 GB of RAM and this one
is enough for doing what you're trying
to do so I'm not going I'm not going to
be using this region I'll be using
southeast Asia region it has a higher
cost here
but uh yeah it's it's almost uh four
dollars so so let's go back to my uh
Visual Studio code and install this uh
VM on Azure and for that you need an
Azure subscription
um if you go here
to browser and you can get a free
subscription uh you'll you'll get 200
free you can try this one if you don't
already have one so let me go back to my
uh my usual city code and open up
a console if you go here and type AV VM
and list sizes
you're going to see all the the VM sizes
that Azure supports if I go if I go and
scroll to the top you'll see the one
that you're using and I can safely say
this is the smallest VM on Azure as well
so that's only 512 RMB of RAM and one
course so let me clear the uh the
console and try to run this script so
the first thing that I'm going to do is
I'm going to create this Resource Group
and you don't have to do all these with
your
um Azure CLI you can just use the UI as
well but this is this is a cooler right
so that's why I'm
doing it like this so until that's that
gets created
I can go into my uh
Azure portal
and uh as you can see my Resource Group
is ready
and you can just click here and go to
Ubuntu Server here you can create the VM
on Azure without using the CLI so let me
go back to my visual studio code
as you can see the VM is ready the next
thing that we should do is open
port 80 and Port
1194 in our VM so for that I'm going to
copy these these two commands and I'm
going to open a new Powershell here and
I'm going to paste it yeah as you can
see I'm getting a few errors let me try
this again I'm going to copy this and
paste this
variables here and then let's try to do
it again yeah as you can see I'm adding
Port 80 and Port 1194 and that is
because
um the the openvpn server that I will be
using for this is uh is working on this
port and I'm using Port 80 to host a web
web browser webpage server to download
my openvpn file
yeah as you can see I have just
completed opening the ports the next
thing that I'm going to do is I'm going
to switch to my uh the other Powershell
window and go into my windows Powershell
and I'm going to SSH into the VM that I
have just created
so for that I'm going to type this
command and insert the password that
I've given here
all right I am inside of the uh the VM
the next thing that I'm going to do is
I'm going to
um
change my user to root user and then I'm
going to copy this script here to update
my uh my package manager and install
Apache server
and I'm using this web server only
because I want to download the openvpn
file
and the next thing is the the most
important step and that is installed the
openvpn server here so there are four
things that you should do as you can see
I'm going to download this openvpn
install script and then I'm going to
make it an executable one and then I'm
going to run it and I'm going to keep
all the uh all the settings as default
so let's try to do it do it now I'm
going to copy the script
and let's try to paste it here
so it has just downloaded it and it has
made it unexecutable and uh yeah I'm
going to run it so so it's all going to
be default settings I will be using
I don't want to enable VPN
um IPv6 and yeah I'm going to keep the
default Port here and this settings as
well
and I don't want any compression enabled
so I think we are all good
so it's setting up the VPN server now
right now it's asking me my client name
um so I'm going to write my own VPN here
and for this one I'm going to use a
passwordless client but uh you should
use this one I'm using this for
Simplicity and uh
yeah all right let's do a less and as
you can see I have my ovpn file here and
I'm going to move that file to my web
server that I've installed Apache to web
server
and let's try to do it now uh seems like
we haven't installed Apostle let's try
it again let's try to install it
it's a bit weird but uh yeah let's try
it again
all right now let's uh move my file to
the web server directory
now I'm going into my Azure portal and
uh
my virtual machine that I've created I'm
going to copy this address here and I'm
going to paste it in my browser and you
can see the main page of my Apache
server and I'm going to download the
file like this
so it's going to be my own VPN
right as you can see I can download the
file and I'm going to save it in my
desktop here all right the next thing
that you need for this is the openvpn
client if you're using Windows you can
use this one or if you're using mobile
app you can set up their mobile apps as
well and I have already downloaded this
client so let me open that up here as
you can see
um I have it here so I'm going to browse
go to my desktop and select this file
so it's showing me all the information
here and I'm going to click connect
yeah as you can see we are in
um if I go to my browser and search for
something like where am I
you can see that I'm in Singapore and I
have successfully connected to the VPN
that I've created let's try to do
another test here so let me open up my
terminal again and and let's install
my network monitor so let me copy this
command here and paste it here
all right
and as you can see it's showing me the
live traffic of the server so let me go
back to my browser here again and let's
uh let's try to do let's go into
fast.com
yeah as you can see
the uh my traffic is going through the
VM that I've created hope you learned
something new today and if you want to
be updated with my future videos you can
subscribe to my channel as well and
thanks for watching